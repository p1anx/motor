# TCP/UART应用 - 合并页面结构

## 功能概述

已成功将TCP和UART通信功能合并到一个页面，实现了三页面结构。用户可以在主页面选择功能，然后进入对应的专门页面进行操作。

## 🎯 页面结构

### 三个独立页面
1. **主页面 (索引0)** - 功能选择界面
2. **TCP/UART通信页面 (索引1)** - 合并的通信功能
3. **同步控制页面 (索引2)** - 同步配置和控制功能

### 界面布局
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 导航栏: 应用标题 + TCP/UART通信 + 同步控制 + 状态指示器                │
├─────────────────────────────────────────────────────────────────────────────┤
│ 页面0: 主页面 - 功能选择界面                                              │
│         ┌─────────────────────┐ ┌─────────────┐                        │
│         │ TCP/UART通信      │ │ 同步控制   │                        │
│         │ (蓝色)            │ │ (橙色)     │                        │
│         └─────────────────────┘ └─────────────┘                        │
├─────────────────────────────────────────────────────────────────────────────┤
│ 页面1: TCP/UART通信页面 - 合并的通信功能                                  │
│         ┌─────────────────────┐ ┌─────────────────────┐                │
│         │ TCP通信区域        │ │ UART通信区域       │                │
│         │ (左侧)             │ │ (右侧)             │                │
│         └─────────────────────┘ └─────────────────────┘                │
├─────────────────────────────────────────────────────────────────────────────┤
│ 页面2: 同步控制页面 - 同步配置和控制功能                                │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 🔄 导航方式

### 1. 主页面导航
- **TCP/UART通信按钮** (蓝色) - 进入合并的通信页面
- **同步控制按钮** (橙色) - 进入同步控制页面

### 2. 导航栏导航
- **应用标题** - 返回主页面
- **TCP/UART通信** - 快速切换到通信页面
- **同步控制** - 快速切换到同步页面

### 3. 页面内导航
- **返回主界面按钮** - 各页面返回主界面

## 📊 状态显示

### 主页面状态
- **连接状态**: 显示TCP/UART连接状态
- **同步状态**: 显示同步进度和状态

### 导航栏状态
- **同步状态指示器**: 实时显示同步状态

### 状态颜色编码
- **未连接/未启用**: 灰色 `#7f8c8d`
- **TCP连接**: 蓝色 `#3498db`
- **UART连接**: 红色 `#e74c3c`
- **同步启用**: 橙色 `#f39c12`
- **同步完成**: 绿色 `#27ae60`

## 🎨 界面特色

### 主页面设计
- **欢迎标题**: 大字体应用标题
- **功能选择**: 两个大按钮选择功能
- **状态信息**: 实时显示连接和同步状态
- **现代化设计**: 圆角边框和悬停效果

### 通信页面设计
- **页面标题**: "TCP/UART通信"标题
- **水平分割**: TCP和UART并排显示
- **功能完整**: 包含完整的TCP和UART功能
- **返回按钮**: 统一的返回主界面按钮

### 同步页面设计
- **页面标题**: "同步控制"标题
- **功能完整**: 包含完整的同步控制功能
- **使用说明**: 内置详细的使用指南
- **返回按钮**: 统一的返回主界面按钮

### 导航栏设计
- **深色主题**: 专业的深色导航栏
- **彩色按钮**: 不同功能用不同颜色
- **状态指示**: 实时状态显示

## 🔧 技术实现

### 核心组件
- **QStackedWidget**: 三页面堆栈管理
- **CommunicationPage**: 合并通信页面类
- **SyncControlPage**: 同步控制页面类

### 页面管理
```python
# 页面索引
0: 主页面
1: TCP/UART通信页面
2: 同步控制页面

# 页面切换
self.stacked_widget.setCurrentIndex(index)
```

### 状态同步机制
- **主应用状态**: 核心状态管理
- **页面状态**: 各页面状态显示
- **指示器更新**: 导航栏状态实时更新
- **数据共享**: 页面间数据同步

## 📋 使用方法

### 基本使用流程
1. **启动应用**:
   ```bash
   python tcp_uart_unified_app_main_v2.py
   ```

2. **选择功能**:
   - 在主页面点击功能按钮
   - 或使用导航栏快速切换

3. **通信操作**:
   - 在通信页面同时操作TCP和UART
   - 观察状态指示器的实时更新

4. **同步控制**:
   - 在同步页面配置和控制同步
   - 观察同步状态的变化

5. **页面切换**:
   - 使用导航栏按钮快速切换
   - 使用返回按钮回到主页面

### 高级功能
- **合并通信**: TCP和UART在同一页面操作
- **状态监控**: 实时监控连接和同步状态
- **快速切换**: 导航栏提供快速切换功能

## 🚀 优势特性

### 功能合并
- **通信集中**: TCP和UART在同一页面
- **操作便捷**: 可以同时操作两种通信方式
- **功能完整**: 每个页面包含完整功能

### 导航便捷
- **三种方式**: 主页面、导航栏、返回按钮
- **快速切换**: 导航栏提供快速切换
- **状态可视**: 实时状态显示

### 用户体验
- **界面美观**: 现代化设计风格
- **操作简单**: 直观的用户界面
- **状态清晰**: 实时状态反馈

## 🔍 调试和测试

### 测试脚本
```bash
# 合并页面测试
python test_merged_pages.py

# 功能演示
python demo_merged_pages.py
```

### 常见问题
1. **页面切换问题**: 检查QStackedWidget配置
2. **状态不同步**: 检查状态更新方法调用
3. **按钮无响应**: 检查信号连接
4. **界面显示异常**: 检查样式表配置

## 📈 更新日志

### v2.3 - 合并页面结构
- ✅ 将TCP和UART通信功能合并到一个页面
- ✅ 调整为三页面结构
- ✅ 更新导航栏和主页面
- ✅ 优化界面设计
- ✅ 完善用户体验

### 主要改进
- **功能合并**: TCP和UART在同一页面
- **结构简化**: 三页面结构更清晰
- **导航便捷**: 多种切换方式
- **状态可视**: 实时状态显示

---

这个合并页面结构为您的TCP/UART应用提供了更集中和便捷的用户体验，通信功能合并在一起，操作更加方便，界面结构更加清晰。

# TCP客户端/服务端应用

这是一个功能完整的TCP客户端/服务端切换应用，支持实时数据收发和显示。

## 🚀 功能特性

### 核心功能
- **双模式支持**：客户端模式和服务端模式一键切换
- **实时通信**：支持实时数据发送和接收
- **数据展示**：带时间戳的数据显示，支持自动滚动
- **连接管理**：自动连接状态检测和显示
- **快速发送**：预设快速发送按钮

### 界面功能
- **模式切换**：下拉框选择客户端/服务端模式
- **连接配置**：主机地址和端口号设置
- **数据发送**：文本输入框和快速发送按钮
- **数据显示**：实时显示接收的数据，支持清空和自动滚动
- **状态显示**：实时显示连接状态

## 📋 使用方法

### 1. 作为客户端使用
1. 选择"客户端"模式
2. 输入服务器IP地址（默认127.0.0.1）
3. 设置端口号（默认8080）
4. 点击"连接"按钮
5. 连接成功后可以发送和接收数据

### 2. 作为服务端使用
1. 选择"服务端"模式
2. 设置监听端口号
3. 点击"启动服务"按钮
4. 等待客户端连接
5. 连接成功后可以发送和接收数据

### 3. 数据发送
- **手动输入**：在发送框中输入数据，按回车或点击"发送"按钮
- **快速发送**：点击预设的快速发送按钮（Hello、Test、Ping、Data）

### 4. 数据显示
- **实时显示**：接收的数据会实时显示在数据区域
- **时间戳**：每条数据都带有时间戳
- **自动滚动**：新数据会自动滚动到底部
- **清空显示**：可以清空所有显示的数据

## 🔧 技术实现

### 架构设计
- **主线程**：处理UI界面和用户交互
- **通信线程**：处理TCP网络通信，避免界面卡顿
- **信号槽机制**：线程间通信，实时更新界面

### 核心组件
- **TCPThread**：TCP通信线程类
- **TCPClientServerApp**：主应用窗口类
- **QThread**：多线程支持
- **pyqtSignal**：线程间信号通信

### 关键技术
- **Socket编程**：TCP客户端/服务端实现
- **多线程**：网络通信与UI分离
- **信号槽**：线程间数据传递
- **布局管理**：响应式界面设计

## 📝 代码结构

```
TCPClientServerApp
├── 模式选择区域
├── 连接配置区域
├── 数据发送区域
└── 数据显示区域

TCPThread
├── 客户端模式
├── 服务端模式
├── 数据发送
└── 数据接收
```

## 🎯 使用场景

1. **网络调试**：测试TCP连接和数据传输
2. **设备通信**：与嵌入式设备进行数据交换
3. **服务器测试**：测试服务器响应和数据处理
4. **学习网络编程**：理解TCP客户端/服务端工作原理

## 💡 扩展建议

1. **添加日志功能**：保存通信记录到文件
2. **支持多客户端**：服务端支持多个客户端连接
3. **数据格式支持**：支持JSON、XML等格式
4. **加密通信**：添加SSL/TLS加密支持
5. **配置文件**：保存常用配置
6. **数据统计**：显示发送/接收数据统计

## 🚨 注意事项

1. **端口占用**：确保端口号未被其他程序占用
2. **防火墙**：可能需要配置防火墙允许连接
3. **网络环境**：确保网络连接正常
4. **数据编码**：目前只支持UTF-8编码
5. **线程安全**：使用信号槽机制确保线程安全

## 🔍 故障排除

### 连接失败
- 检查IP地址和端口号是否正确
- 确认目标主机是否可达
- 检查防火墙设置

### 数据乱码
- 确保发送和接收都使用UTF-8编码
- 检查网络传输是否正常

### 界面卡顿
- 检查是否有大量数据同时显示
- 考虑关闭自动滚动功能

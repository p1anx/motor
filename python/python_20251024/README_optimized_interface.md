# TCP/UART优化界面应用

这是一个功能强大的TCP/UART桥接应用，采用优化的界面设计，将TCP和UART功能并列显示，但使用统一的数据显示区域，避免冗余，提供更简洁的用户体验。

## 🎯 界面设计特点

### 1. 优化布局设计
- **上下分布**：TCP和UART功能在上方，数据显示在下方
- **左右对称**：TCP功能在左侧，UART功能在右侧
- **统一显示**：TCP和UART数据在统一区域显示
- **数据过滤**：可选择显示TCP数据、UART数据或两者

### 2. 界面结构
```
┌─────────────────────────────────────────────────────────┐
│                    TCP/UART通信                          │
├─────────────────────┬───────────────────────────────────┤
│      TCP通信        │           UART通信                │
│  ┌───────────────┐  │  ┌─────────────────────────────┐   │
│  │ 模式选择      │  │  │ 串口配置                   │   │
│  │ 连接配置      │  │  │ 数据发送                   │   │
│  │ 数据发送      │  │  │ 快速发送                   │   │
│  └───────────────┘  │  └─────────────────────────────┘   │
├─────────────────────┴───────────────────────────────────┤
│                统一数据显示区域                          │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 控制按钮: 清空 | 自动滚动 | 显示TCP | 显示UART  │   │
│  │ ┌─────────────────────────────────────────────┐ │   │
│  │ │           统一数据显示区域                  │ │   │
│  │ │  [时间] TCP发送: 数据内容                   │ │   │
│  │ │  [时间] UART接收: 数据内容                 │ │   │
│  │ │  [时间] TCP接收: 数据内容                   │ │   │
│  │ │  [时间] UART发送: 数据内容                 │ │   │
│  │ └─────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

## 🚀 主要功能

### 1. TCP通信功能（左上）
- **模式选择**：客户端/服务端模式切换
- **连接配置**：主机地址和端口号设置
- **数据发送**：文本输入和快速发送按钮
- **换行符控制**：可选择是否在发送时添加换行符

### 2. UART通信功能（右上）
- **串口配置**：串口选择和波特率设置
- **数据发送**：UART数据发送和快速发送
- **换行符控制**：可选择是否在发送时添加换行符
- **快速发送**：AT命令等预设按钮

### 3. 统一数据显示（下方）
- **统一显示**：TCP和UART数据在统一区域显示
- **数据过滤**：可选择显示TCP数据、UART数据或两者
- **实时更新**：所有数据实时显示，带时间戳
- **自动滚动**：新数据自动滚动到底部

### 4. 数据控制功能
- **清空显示**：一键清空所有数据显示
- **自动滚动**：控制是否自动滚动到最新数据
- **数据过滤**：通过复选框控制数据显示类型

## 📋 使用方法

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 运行应用
```bash
python tcp_client_server_app.py
```

### 3. TCP通信使用
1. 在左上TCP区域选择客户端或服务端模式
2. 配置连接参数（IP地址和端口号）
3. 点击连接/启动服务
4. 在发送框中输入数据并发送
5. 在下方统一显示区域查看接收数据

### 4. UART通信使用
1. 在右上UART区域点击"刷新端口"检测可用串口
2. 选择串口和波特率
3. 点击"连接串口"
4. 在发送框中输入数据并发送
5. 在下方统一显示区域查看接收数据

### 5. 数据显示控制
1. 使用"显示TCP数据"控制是否显示TCP数据
2. 使用"显示UART数据"控制是否显示UART数据
3. 使用"自动滚动"控制是否自动滚动到最新数据
4. 使用"清空显示"清空所有数据

### 6. 数据转发使用
1. 切换到"数据转发"标签页
2. 勾选需要的转发方向
3. 确保TCP和UART都已连接
4. 数据将自动转发

## 🎯 界面优势

### 1. 简洁高效
- **统一显示**：所有数据在统一区域显示，避免冗余
- **功能集中**：TCP和UART功能并列显示，操作便捷
- **控制简单**：统一的数据显示控制

### 2. 灵活控制
- **数据过滤**：可选择显示特定类型的数据
- **实时监控**：同时监控TCP和UART数据
- **独立控制**：支持独立的数据显示控制

### 3. 用户体验
- **界面清晰**：功能区域和显示区域分离明确
- **操作简单**：所有功能都在主界面，操作便捷
- **状态明确**：连接状态和数据显示清晰

### 4. 功能强大
- **数据转发**：实现两种通信方式间的数据桥接
- **实时监控**：支持实时数据监控
- **灵活配置**：支持多种配置选项

## 🔧 技术实现

### 1. 界面布局
- **QHBoxLayout**：水平布局，左右分布TCP和UART
- **QVBoxLayout**：垂直布局，上下分布功能区域和显示区域
- **QGroupBox**：功能分组，界面更清晰

### 2. 数据显示
- **统一显示**：TCP和UART数据在统一区域显示
- **数据过滤**：通过复选框控制数据显示
- **自动滚动**：新数据自动滚动到底部

### 3. 多线程架构
- **TCP线程**：处理TCP通信
- **UART线程**：处理串口通信
- **信号槽机制**：线程间安全通信

## 💡 使用技巧

### 1. 数据过滤
- 如果只想看TCP数据，取消勾选"显示UART数据"
- 如果只想看UART数据，取消勾选"显示TCP数据"
- 两个都勾选则显示所有数据

### 2. 数据管理
- 使用"清空显示"清空所有数据
- 使用"自动滚动"保持最新数据可见
- 使用数据过滤功能减少显示干扰

### 3. 数据转发
- 确保TCP和UART都已连接
- 在数据转发标签页启用转发选项
- 转发状态会在转发标签页显示

## 🚨 注意事项

1. **串口权限**：Linux系统可能需要串口权限
2. **端口占用**：确保端口未被其他程序占用
3. **数据编码**：目前只支持UTF-8编码
4. **界面大小**：建议使用较大屏幕以获得最佳体验
5. **数据过滤**：过滤只影响显示，不影响实际通信

## 📊 性能优化

1. **统一显示**：避免多个显示区域，减少资源占用
2. **数据过滤**：通过过滤减少显示数据量
3. **自动滚动**：可选择关闭自动滚动以提高性能
4. **内存管理**：定期清空显示数据

## 🎨 界面美化

1. **简洁布局**：功能区域和显示区域分离明确
2. **功能分组**：使用QGroupBox进行功能分组
3. **字体优化**：使用等宽字体显示数据
4. **颜色区分**：不同类型数据用不同颜色标识

这个优化界面设计避免了冗余的显示区域，提供了更简洁和高效的用户体验！

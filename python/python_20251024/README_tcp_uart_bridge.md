# TCP/UART桥接应用

这是一个功能强大的TCP/UART桥接应用，支持TCP客户端/服务端通信、UART串口通信，以及两者之间的数据转发功能。

## 🚀 主要功能

### 1. TCP通信功能
- **双模式支持**：客户端模式和服务端模式
- **实时通信**：支持实时数据发送和接收
- **数据展示**：带时间戳的数据显示
- **连接管理**：自动连接状态检测和显示
- **换行符控制**：可选择是否在发送时添加换行符

### 2. UART串口功能
- **串口配置**：支持多种波特率（9600-921600）
- **自动检测**：自动检测可用串口
- **实时通信**：支持实时数据发送和接收
- **换行符控制**：可选择是否在发送时添加换行符
- **快速发送**：预设AT命令快速发送按钮

### 3. 数据转发功能
- **UART → TCP**：将UART接收的数据转发到TCP
- **TCP → UART**：将TCP接收的数据转发到UART
- **实时转发**：支持实时数据转发
- **转发显示**：显示转发状态和数据

## 📋 界面说明

### 标签页结构
1. **TCP通信**：TCP客户端/服务端功能
2. **UART通信**：串口通信功能
3. **数据转发**：TCP和UART之间的数据转发

### TCP通信标签页
- **模式选择**：客户端/服务端模式切换
- **连接配置**：主机地址和端口号设置
- **数据发送**：文本输入和快速发送按钮
- **数据显示**：实时显示接收的数据

### UART通信标签页
- **串口配置**：串口选择和波特率设置
- **数据发送**：UART数据发送和快速发送
- **数据显示**：UART数据接收显示

### 数据转发标签页
- **转发配置**：选择转发方向
- **转发显示**：显示转发状态和数据

## 🔧 使用方法

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 运行应用
```bash
python tcp_client_server_app.py
```

### 3. TCP通信使用
1. 切换到"TCP通信"标签页
2. 选择客户端或服务端模式
3. 配置连接参数
4. 点击连接/启动服务
5. 开始发送和接收数据

### 4. UART通信使用
1. 切换到"UART通信"标签页
2. 点击"刷新端口"检测可用串口
3. 选择串口和波特率
4. 点击"连接串口"
5. 开始发送和接收数据

### 5. 数据转发使用
1. 切换到"数据转发"标签页
2. 勾选需要的转发方向
3. 确保TCP和UART都已连接
4. 数据将自动转发

## 🎯 应用场景

### 1. 设备调试
- 通过TCP连接远程设备
- 通过UART连接本地设备
- 实现远程设备调试

### 2. 数据桥接
- 将串口设备数据转发到网络
- 将网络数据转发到串口设备
- 实现串口设备的网络化

### 3. 协议转换
- 串口协议到TCP协议转换
- TCP协议到串口协议转换
- 实现不同协议间的通信

### 4. 数据监控
- 实时监控串口数据
- 实时监控TCP数据
- 数据转发状态监控

## 💡 技术特点

### 1. 多线程架构
- TCP通信独立线程
- UART通信独立线程
- 避免界面卡顿

### 2. 信号槽机制
- 线程间安全通信
- 实时状态更新
- 数据实时显示

### 3. 错误处理
- 完善的异常处理
- 连接状态检测
- 自动重连机制

### 4. 用户友好
- 直观的界面设计
- 实时状态显示
- 操作简单便捷

## 🔍 故障排除

### 串口连接失败
- 检查串口是否被其他程序占用
- 确认串口设备已连接
- 检查串口权限设置

### TCP连接失败
- 检查网络连接
- 确认IP地址和端口号
- 检查防火墙设置

### 数据转发不工作
- 确认TCP和UART都已连接
- 检查转发选项是否启用
- 查看转发状态显示

## 📝 扩展功能

### 可添加的功能
1. **数据记录**：保存通信记录到文件
2. **数据过滤**：添加数据过滤功能
3. **协议解析**：支持特定协议解析
4. **数据统计**：显示通信统计信息
5. **多串口支持**：同时连接多个串口
6. **加密通信**：支持数据加密传输

### 自定义开发
- 修改波特率选项
- 添加新的快速发送按钮
- 自定义数据显示格式
- 添加数据验证功能

## 🚨 注意事项

1. **串口权限**：Linux系统可能需要串口权限
2. **端口占用**：确保端口未被其他程序占用
3. **数据编码**：目前只支持UTF-8编码
4. **线程安全**：使用信号槽机制确保线程安全
5. **资源清理**：程序退出时会自动清理资源

## 📊 性能优化

1. **缓冲区管理**：合理设置串口缓冲区
2. **数据过滤**：避免显示过多无用数据
3. **内存管理**：定期清理显示数据
4. **线程优化**：合理使用线程资源

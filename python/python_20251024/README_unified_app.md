# TCP/UART统一通信应用

这是一个全新的TCP/UART统一通信应用，完全按照你的要求设计，将TCP和UART功能整合在同一个界面中，并实现独立且并列的数据显示窗口。

## 🎯 应用特点

### 1. 统一界面设计
- **左右分布**：TCP功能在左侧，UART功能在右侧
- **独立显示**：TCP和UART数据在独立且并列的显示窗口
- **同一界面**：所有功能都在同一个主界面中
- **换行符控制**：TCP和UART发送都可选择是否添加换行符

### 2. 界面结构
```
┌─────────────────────────────────────────────────────────┐
│                TCP/UART统一通信应用                      │
├─────────────────────┬───────────────────────────────────┤
│      TCP通信        │           UART通信                │
│  ┌───────────────┐  │  ┌─────────────────────────────┐   │
│  │ 模式选择      │  │  │ 串口配置                   │   │
│  │ 连接配置      │  │  │ 数据发送                   │   │
│  │ 数据发送      │  │  │ 快速发送                   │   │
│  └───────────────┘  │  └─────────────────────────────┘   │
├─────────────────────┴───────────────────────────────────┤
│                并列数据显示区域                          │
│ ┌─────────────────────┬─────────────────────────────────┐ │
│ │    TCP数据接收      │        UART数据接收             │ │ │
│ │ ┌─────────────────┐ │ ┌─────────────────────────────┐ │ │ │
│ │ │                 │ │ │                             │ │ │ │
│ │ │   TCP数据显示   │ │ │      UART数据显示           │ │ │ │
│ │ │                 │ │ │                             │ │ │ │
│ │ └─────────────────┘ │ └─────────────────────────────┘ │ │ │
│ └─────────────────────┴─────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

## 🚀 主要功能

### 1. TCP通信功能（左侧）
- **模式选择**：客户端/服务端模式切换
- **连接配置**：主机地址和端口号设置
- **数据发送**：文本输入和快速发送按钮
- **换行符控制**：可选择是否在发送时添加换行符
- **快速发送**：Hello、Test、Ping、Data等预设按钮

### 2. UART通信功能（右侧）
- **串口配置**：串口选择和波特率设置
- **数据发送**：UART数据发送和快速发送
- **换行符控制**：可选择是否在发送时添加换行符
- **快速发送**：AT、AT+VERSION、AT+STATUS、PING等预设按钮

### 3. 独立数据显示（底部）
- **TCP数据显示**：左侧独立显示TCP数据
- **UART数据显示**：右侧独立显示UART数据
- **并列显示**：两个显示窗口并列显示
- **独立控制**：可分别清空TCP或UART显示

## 📋 使用方法

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 运行应用
```bash
python tcp_uart_unified_app.py
```

### 3. TCP通信使用
1. 在左侧TCP区域选择客户端或服务端模式
2. 配置连接参数（IP地址和端口号）
3. 点击连接/启动服务
4. 在发送框中输入数据并发送
5. 在左下TCP数据显示区域查看接收数据

### 4. UART通信使用
1. 在右侧UART区域点击"刷新端口"检测可用串口
2. 选择串口和波特率
3. 点击"连接串口"
4. 在发送框中输入数据并发送
5. 在右下UART数据显示区域查看接收数据

### 5. 数据显示控制
1. 使用"清空TCP显示"清空TCP数据显示
2. 使用"清空UART显示"清空UART数据显示
3. 使用"自动滚动"控制是否自动滚动到最新数据

## 🔧 技术实现

### 1. 界面布局
- **QSplitter**：水平分割器，左右分布TCP和UART
- **QGroupBox**：功能分组，界面更清晰
- **QHBoxLayout**：并列显示TCP和UART数据

### 2. 多线程架构
- **TCPThread**：处理TCP通信
- **UARTThread**：处理串口通信
- **信号槽机制**：线程间安全通信

### 3. 数据显示
- **独立显示**：TCP和UART数据在独立区域显示
- **并列布局**：两个显示窗口并列显示
- **自动滚动**：新数据自动滚动到底部

## 💡 功能特点

### 1. 换行符控制
- **TCP发送**：可选择是否在发送时添加换行符
- **UART发送**：可选择是否在发送时添加换行符
- **灵活配置**：适应不同协议需求

### 2. 独立显示
- **TCP数据**：在左侧独立显示区域
- **UART数据**：在右侧独立显示区域
- **并列布局**：两个显示窗口并列显示
- **独立控制**：可分别清空和控制

### 3. 快速发送
- **TCP快速发送**：Hello、Test、Ping、Data
- **UART快速发送**：AT、AT+VERSION、AT+STATUS、PING
- **一键发送**：点击按钮即可快速发送

## 🎯 界面优势

### 1. 统一界面
- **同一界面**：TCP和UART功能在同一界面
- **左右分布**：功能区域左右对称分布
- **操作便捷**：无需切换界面即可使用两种通信方式

### 2. 独立显示
- **独立区域**：TCP和UART数据在独立区域显示
- **并列布局**：两个显示窗口并列显示
- **独立控制**：可分别清空和控制显示

### 3. 功能完整
- **TCP通信**：支持客户端/服务端模式
- **UART通信**：支持串口通信
- **换行符控制**：支持灵活的换行符控制
- **快速发送**：支持快速发送功能

## 🚨 注意事项

1. **串口权限**：Linux系统可能需要串口权限
2. **端口占用**：确保端口未被其他程序占用
3. **数据编码**：目前只支持UTF-8编码
4. **界面大小**：建议使用较大屏幕以获得最佳体验
5. **线程安全**：使用信号槽机制确保线程安全

## 📊 性能优化

1. **多线程设计**：网络通信与UI分离，响应流畅
2. **独立显示**：TCP和UART数据分离显示，减少干扰
3. **自动滚动**：可选择关闭自动滚动以提高性能
4. **内存管理**：定期清空显示数据

## 🎨 界面美化

1. **对称布局**：界面布局对称美观
2. **功能分组**：使用QGroupBox进行功能分组
3. **字体优化**：使用等宽字体显示数据
4. **颜色区分**：不同类型数据用不同颜色标识

这个应用完全按照你的要求设计，将TCP和UART功能整合在同一个界面中，并实现独立且并列的数据显示窗口！
